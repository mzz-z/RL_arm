# grasp.yaml - Phase 2 configuration (grasp + lift task)
# Inherits from default.yaml, overrides specific values.

env:
  task_mode: "grasp"
  max_episode_steps: 300      # More time for grasp + lift

  # Slightly easier attachment for transfer learning
  magnet:
    attach_radius: 0.045      # Slightly larger than default (0.04)
    attach_vel_threshold: 0.18  # Slightly more forgiving (0.15 default)

reward:
  grasp:
    w_dist: 1.0
    attach_bonus: 2.0
    w_lift: 1.0
    w_hold_per_step: 0.1
    success_bonus: 15.0

ppo:
  # Lower entropy to preserve reach behavior during transfer learning
  entropy_coef: 0.005
  # Slower LR decay for harder task
  lr_schedule: "cosine"
  lr_min: 1.0e-5

# Curriculum for grasp (progressive difficulty)
curriculum:
  enabled: true
  metric: "success_rate"
  patience: 3

  stages:
    # Stage 1: Easy (close targets)
    - threshold: 0.4
      spawn:
        radius_min: 0.20
        radius_max: 0.28

    # Stage 2: Medium
    - threshold: 0.6
      spawn:
        radius_min: 0.15
        radius_max: 0.35

    # Stage 3: Full difficulty
    - threshold: 0.8
      spawn:
        radius_min: 0.12
        radius_max: 0.42
